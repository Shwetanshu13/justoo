{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///Users/rajanti/Desktop/justeee/justoo/apps/inventory/frontend/src/lib/api.js"],"sourcesContent":["import axios from \"axios\";\nimport Cookies from \"js-cookie\";\n\nconst API_BASE_URL =\n    (process.env.NEXT_PUBLIC_INVENTORY_API_URL || \"http://localhost:3000\") +\n    \"/inventory/api\";\n\nexport const api = axios.create({\n    baseURL: API_BASE_URL,\n    headers: {\n        \"Content-Type\": \"application/json\",\n    },\n});\n\n// Request interceptor to add token\napi.interceptors.request.use(\n    (config) => {\n        const token = Cookies.get(\"token\");\n        if (token) {\n            config.headers.Authorization = `Bearer ${token}`;\n        }\n        return config;\n    },\n    (error) => {\n        return Promise.reject(error);\n    }\n);\n\n// Response interceptor to handle token expiration\napi.interceptors.response.use(\n    (response) => response,\n    (error) => {\n        if (error.response?.status === 401) {\n            Cookies.remove(\"token\");\n            window.location.href = \"/login\";\n        }\n        return Promise.reject(error);\n    }\n);\n\n// API methods for different endpoints\nexport const authAPI = {\n    login: (credentials) => api.post(\"/auth/login\", credentials),\n    logout: () => api.post(\"/auth/logout\"),\n    getProfile: () => api.get(\"/auth/profile\"),\n    changePassword: (data) => api.put(\"/auth/change-password\", data),\n};\n\nexport const inventoryAPI = {\n    getAllItems: (params) => api.get(\"/inventory/items\", { params }),\n    getItemById: (id) => api.get(`/inventory/items/${id}`),\n    addItem: (data) => {\n        // Check if data is FormData (for file uploads)\n        if (data instanceof FormData) {\n            return api.post(\"/inventory/items\", data, {\n                headers: {\n                    \"Content-Type\": \"multipart/form-data\",\n                },\n            });\n        }\n        return api.post(\"/inventory/items\", data);\n    },\n    updateItem: (id, data) => {\n        // Check if data is FormData (for file uploads)\n        if (data instanceof FormData) {\n            return api.put(`/inventory/items/${id}`, data, {\n                headers: {\n                    \"Content-Type\": \"multipart/form-data\",\n                },\n            });\n        }\n        return api.put(`/inventory/items/${id}`, data);\n    },\n    deleteItem: (id) => api.delete(`/inventory/items/${id}`),\n    getInStockItems: () => api.get(\"/inventory/stock/in-stock\"),\n    getOutOfStockItems: () => api.get(\"/inventory/stock/out-of-stock\"),\n    getLowStockItems: () => api.get(\"/inventory/stock/low-stock\"),\n    getDashboardStats: () => api.get(\"/inventory/dashboard/stats\"),\n    getNotifications: () => api.get(\"/inventory/dashboard/notifications\"),\n    getUnits: () => api.get(\"/inventory/units\"),\n};\n\nexport const orderAPI = {\n    getAllOrders: (params) => api.get(\"/orders\", { params }),\n    getOrderById: (id) => api.get(`/orders/${id}`),\n    placeOrder: (data) => api.post(\"/orders/place-order\", data),\n    cancelOrder: (data) => api.post(\"/orders/cancel-order\", data),\n    bulkUpdateQuantities: (data) => api.post(\"/orders/bulk-update\", data),\n    checkAvailability: (data) => api.post(\"/orders/check-availability\", data),\n};\n\nexport default api;\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AACA;;;AAEA,MAAM,eACF,CAAC,6DAA6C,uBAAuB,IACrE;AAEG,MAAM,MAAM,mMAAK,CAAC,MAAM,CAAC;IAC5B,SAAS;IACT,SAAS;QACL,gBAAgB;IACpB;AACJ;AAEA,mCAAmC;AACnC,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CACxB,CAAC;IACG,MAAM,QAAQ,yNAAO,CAAC,GAAG,CAAC;IAC1B,IAAI,OAAO;QACP,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IACpD;IACA,OAAO;AACX,GACA,CAAC;IACG,OAAO,QAAQ,MAAM,CAAC;AAC1B;AAGJ,kDAAkD;AAClD,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CACzB,CAAC,WAAa,UACd,CAAC;IACG,IAAI,MAAM,QAAQ,EAAE,WAAW,KAAK;QAChC,yNAAO,CAAC,MAAM,CAAC;QACf,OAAO,QAAQ,CAAC,IAAI,GAAG;IAC3B;IACA,OAAO,QAAQ,MAAM,CAAC;AAC1B;AAIG,MAAM,UAAU;IACnB,OAAO,CAAC,cAAgB,IAAI,IAAI,CAAC,eAAe;IAChD,QAAQ,IAAM,IAAI,IAAI,CAAC;IACvB,YAAY,IAAM,IAAI,GAAG,CAAC;IAC1B,gBAAgB,CAAC,OAAS,IAAI,GAAG,CAAC,yBAAyB;AAC/D;AAEO,MAAM,eAAe;IACxB,aAAa,CAAC,SAAW,IAAI,GAAG,CAAC,oBAAoB;YAAE;QAAO;IAC9D,aAAa,CAAC,KAAO,IAAI,GAAG,CAAC,CAAC,iBAAiB,EAAE,IAAI;IACrD,SAAS,CAAC;QACN,+CAA+C;QAC/C,IAAI,gBAAgB,UAAU;YAC1B,OAAO,IAAI,IAAI,CAAC,oBAAoB,MAAM;gBACtC,SAAS;oBACL,gBAAgB;gBACpB;YACJ;QACJ;QACA,OAAO,IAAI,IAAI,CAAC,oBAAoB;IACxC;IACA,YAAY,CAAC,IAAI;QACb,+CAA+C;QAC/C,IAAI,gBAAgB,UAAU;YAC1B,OAAO,IAAI,GAAG,CAAC,CAAC,iBAAiB,EAAE,IAAI,EAAE,MAAM;gBAC3C,SAAS;oBACL,gBAAgB;gBACpB;YACJ;QACJ;QACA,OAAO,IAAI,GAAG,CAAC,CAAC,iBAAiB,EAAE,IAAI,EAAE;IAC7C;IACA,YAAY,CAAC,KAAO,IAAI,MAAM,CAAC,CAAC,iBAAiB,EAAE,IAAI;IACvD,iBAAiB,IAAM,IAAI,GAAG,CAAC;IAC/B,oBAAoB,IAAM,IAAI,GAAG,CAAC;IAClC,kBAAkB,IAAM,IAAI,GAAG,CAAC;IAChC,mBAAmB,IAAM,IAAI,GAAG,CAAC;IACjC,kBAAkB,IAAM,IAAI,GAAG,CAAC;IAChC,UAAU,IAAM,IAAI,GAAG,CAAC;AAC5B;AAEO,MAAM,WAAW;IACpB,cAAc,CAAC,SAAW,IAAI,GAAG,CAAC,WAAW;YAAE;QAAO;IACtD,cAAc,CAAC,KAAO,IAAI,GAAG,CAAC,CAAC,QAAQ,EAAE,IAAI;IAC7C,YAAY,CAAC,OAAS,IAAI,IAAI,CAAC,uBAAuB;IACtD,aAAa,CAAC,OAAS,IAAI,IAAI,CAAC,wBAAwB;IACxD,sBAAsB,CAAC,OAAS,IAAI,IAAI,CAAC,uBAAuB;IAChE,mBAAmB,CAAC,OAAS,IAAI,IAAI,CAAC,8BAA8B;AACxE;uCAEe","debugId":null}},
    {"offset": {"line": 185, "column": 0}, "map": {"version":3,"sources":["file:///Users/rajanti/Desktop/justeee/justoo/apps/inventory/frontend/src/contexts/AuthContext.js"],"sourcesContent":["'use client';\n\nimport { createContext, useContext, useEffect, useState } from 'react';\nimport Cookies from 'js-cookie';\nimport { api } from '@/lib/api';\n\nconst AuthContext = createContext();\n\nexport const useAuth = () => {\n    const context = useContext(AuthContext);\n    if (!context) {\n        throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n};\n\nexport const AuthProvider = ({ children }) => {\n    const [user, setUser] = useState(null);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        checkAuth();\n    }, []);\n\n    const checkAuth = async () => {\n        try {\n            const token = Cookies.get('token');\n            if (token) {\n                const response = await api.get('/auth/profile');\n                setUser(response.data.data);\n            }\n        } catch (error) {\n            console.error('Auth check failed:', error);\n            Cookies.remove('token');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const login = async (username, password) => {\n        try {\n            const response = await api.post('/auth/login', { username, password });\n            const { token, user } = response.data.data;\n\n            Cookies.set('token', token, { expires: 7 });\n            setUser(user);\n\n            return response.data;\n        } catch (error) {\n            throw error;\n        }\n    };\n\n    const logout = async () => {\n        try {\n            await api.post('/auth/logout');\n        } catch (error) {\n            console.error('Logout error:', error);\n        } finally {\n            Cookies.remove('token');\n            setUser(null);\n        }\n    };\n\n    const value = {\n        user,\n        login,\n        logout,\n        loading\n    };\n\n    return (\n        <AuthContext.Provider value={value}>\n            {children}\n        </AuthContext.Provider>\n    );\n};\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,MAAM,4BAAc,IAAA,qVAAa;AAE1B,MAAM,UAAU;IACnB,MAAM,UAAU,IAAA,kVAAU,EAAC;IAC3B,IAAI,CAAC,SAAS;QACV,MAAM,IAAI,MAAM;IACpB;IACA,OAAO;AACX;AAEO,MAAM,eAAe,CAAC,EAAE,QAAQ,EAAE;IACrC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,gVAAQ,EAAC;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gVAAQ,EAAC;IAEvC,IAAA,iVAAS,EAAC;QACN;IACJ,GAAG,EAAE;IAEL,MAAM,YAAY;QACd,IAAI;YACA,MAAM,QAAQ,yNAAO,CAAC,GAAG,CAAC;YAC1B,IAAI,OAAO;gBACP,MAAM,WAAW,MAAM,yJAAG,CAAC,GAAG,CAAC;gBAC/B,QAAQ,SAAS,IAAI,CAAC,IAAI;YAC9B;QACJ,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,sBAAsB;YACpC,yNAAO,CAAC,MAAM,CAAC;QACnB,SAAU;YACN,WAAW;QACf;IACJ;IAEA,MAAM,QAAQ,OAAO,UAAU;QAC3B,IAAI;YACA,MAAM,WAAW,MAAM,yJAAG,CAAC,IAAI,CAAC,eAAe;gBAAE;gBAAU;YAAS;YACpE,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG,SAAS,IAAI,CAAC,IAAI;YAE1C,yNAAO,CAAC,GAAG,CAAC,SAAS,OAAO;gBAAE,SAAS;YAAE;YACzC,QAAQ;YAER,OAAO,SAAS,IAAI;QACxB,EAAE,OAAO,OAAO;YACZ,MAAM;QACV;IACJ;IAEA,MAAM,SAAS;QACX,IAAI;YACA,MAAM,yJAAG,CAAC,IAAI,CAAC;QACnB,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,iBAAiB;QACnC,SAAU;YACN,yNAAO,CAAC,MAAM,CAAC;YACf,QAAQ;QACZ;IACJ;IAEA,MAAM,QAAQ;QACV;QACA;QACA;QACA;IACJ;IAEA,qBACI,6WAAC,YAAY,QAAQ;QAAC,OAAO;kBACxB;;;;;;AAGb","debugId":null}}]
}